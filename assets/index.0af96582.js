import{a as e,R as r,u as t,C as l,b as s}from"./vendor.dabefa98.js";function n(){return new Worker("assets/web-worker.a1e828aa.js",{type:"module"})}const a=e(null),c=e("");function o(){return r.createElement("svg",{viewBox:"0 0 90 90",className:"w-full h-full"},r.createElement("path",{className:"st0",stroke:"currentColor",strokeWidth:"1",fill:"none",d:"M85 22.3v44.9L44.5 86M5 22.8L45.5 4 85 22.3M44.5 86L5 67.7V22.8M44.5 41.1L5 22.8M85 22.3L44.5 41.1M44.5 41.1V86"}),r.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"1",fill:"none",cx:"17.1",cy:"42",rx:"3.7",ry:"3.4"}),r.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"1",fill:"none",cx:"25",cy:"54.4",rx:"3.7",ry:"3.4"}),r.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"1",fill:"none",cx:"33.4",cy:"67.8",rx:"3.7",ry:"3.4"}),r.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"1",fill:"none",cx:"58.3",cy:"57.1",rx:"3.7",ry:"3.4"}),r.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"1",fill:"none",cx:"45",cy:"22.3",rx:"3.7",ry:"3.4"}),r.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"1",fill:"none",cx:"73.5",cy:"50.2",rx:"3.7",ry:"3.4"}))}function u({seed:e}){const s=r.useRef(null),c=r.useRef(),[o,u]=t(a);return l.exports.useEffect((()=>{if(!s.current)return;console.log("use on",s.current,"offscreen",o),s.current.dataset.tm="444";const e=o||s.current.transferControlToOffscreen();o||(u(e),console.log("set offset"));const r=new n;return r.onmessage=e=>{console.log("from worker:",e.data)},r.onerror=e=>{console.log("from worker: error",e.data)},r.postMessage({type:"init",canvas:e},[e]),c.current=r,()=>{var e;console.log("use off",s.current,o),null==(e=c.current)||e.terminate(),c.current=void 0,u(null)}}),[s]),l.exports.useEffect((()=>{c.current&&c.current.postMessage({type:"re-run",seed:e})}),[e]),r.createElement("canvas",{ref:s,className:"w-full h-full bg-purple-200"})}function m(){const[e,l]=t(c);return r.createElement("div",{className:"App h-screen flex flex-col items-center space-y-4 bg-gray-100"},r.createElement("div",{className:"w-full py-2 flex items-center justify-between text-purple-900 bg-purple-300"},r.createElement("div",{className:"mx-4 flex-none w-10 h-10"},r.createElement(o,null)),r.createElement("div",{className:"px-4 py-2 text-xl uppercase"},"Noise generator")),r.createElement("div",{className:"max-w-lg m-auto space-y-4"},r.createElement("div",{className:"w-full flex flex-col space-y-1"},r.createElement("input",{className:"flex-1 w-full px-2 py-2 text-sm text-gray-900 bg-purple-100 border rounded",placeholder:"Type anything as a seed",value:e,onChange:e=>l(e.target.value)}),r.createElement("button",{className:"px-2 py-1 self-center border rounded text-gray-300 bg-gray-600 uppercase transform active:scale-95",onClick:()=>{l(`${Math.random()}`.replace(/^0\./,""))}},"Random")),r.createElement("div",{className:"flex-1 flex items-center"},r.createElement("div",{className:"w-96 h-96"},r.createElement(u,{seed:e})))))}s.render(r.createElement(r.StrictMode,null,r.createElement(m,null)),document.getElementById("root"));
