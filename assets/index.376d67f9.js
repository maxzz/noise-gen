var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(n)for(var r of n(t))l.call(t,r)&&o(e,r,t[r]);return e},c=(e,n)=>t(e,r(n));import{a as i,R as m,C as d,u,b as p,c as v,d as f,e as h,f as g,g as x,h as b,i as E,S as w,j as y}from"./vendor.d83ec269.js";function N(e,t){const r=i(e);return i((e=>e(r)),((e,n,a)=>{const l="function"==typeof a?a(e(r)):a;n(r,l),t(l,e)}))}const k={n1:-40,n2:-40,distortion:0,dotDiameter:0},C={n1:40,n2:40,distortion:400,dotDiameter:50},M={n1:40,n2:40,distortion:400,dotDiameter:1},S={d3:{def:{dim:3,x:.1,y:.1,z:.1,w:.1},min:{dim:3,x:.001,y:.001,z:.001,w:.001},max:{dim:3,x:20,y:20,z:20,w:20},gen:{dim:3,x:.1,y:.1,z:.1,w:.1}}};const z={canvasBg:"transparent",expSize:{w:325,h:300},renderParams:{seed:"13753932482421605",color:"#887ed6",noise:S.d3.def,genParams:{n1:6.3,n2:6.3,distortion:1,dotDiameter:.1}}};function L(e){return["v7",e.color,(t=e.seed,r=e.noise,r?["v7",r.dim,r.x,r.y,r.z,r.w,t].join("_"):t),e.genParams.n1,e.genParams.n2,e.genParams.distortion,e.genParams.dotDiameter].join("|");var t,r}function P(e){let t=(e||"").split("|");if(7===t.length&&"v7"===t[0])return c(s({color:t[1]},function(e=""){const t={seed:e,noise:S.d3.def};if(e.match(/^v7/)){let r=e.split("_");if(r.length>=6){let e=+r[1],n=2!==e&&3!==e&&4!==e?3:e;t.noise={dim:n,x:+r[2],y:+r[3],z:+r[4],w:+r[5]}}r.length>=7&&(t.seed=r.slice(6).join(""))}return t}(t[2])),{genParams:{n1:+t[3],n2:+t[4],distortion:+t[5],dotDiameter:+t[6]}})}function D(e,t=100){let r,n,a;return function(...l){a=this,n=l,r||(r=setTimeout((()=>{r=null,e.apply(a,n)}),t))}}const I=function(){let e=localStorage.getItem("noisegen-xp10525n-params");try{let t=e&&JSON.parse(e),r=P(t.rpm);if(r){return{canvasBg:t.can||z.canvasBg,expSize:t.exp||z.expSize,renderParams:r||z.renderParams}}}catch(t){}return z}(),j=D((e=>{let t={can:e(G),exp:e(_),rpm:L(e(Z))};localStorage.setItem("noisegen-xp10525n-params",JSON.stringify(t))}),1e3),H="noisegen-xp10525n-presets2";const R=D((e=>{let t=e(se),r={},n=t.map((e=>(e.preview&&(r[e.id]=e.preview),{id:e.id,rpm:L(e.renderParams)})));localStorage.setItem(`${H}-sets`,JSON.stringify(n)),localStorage.setItem(`${H}-cache`,JSON.stringify(r))}),1e3);function O(){const e=Date.now(),t=O.last||e;return O.last=e>t?e:t+1}function B(){return O().toString(36)}function W(e,t){return Math.random()*(t-e)+e}function V(e,t=2){return e.toFixed(Math.max(Math.min(t,20),0))}const $=i(null),K=i(null),A=i({w:325,h:300}),U=N(I.renderParams.genParams,((e,t)=>j(t))),F=i((e=>e(U).n1),((e,t,r)=>t(U,c(s({},e(U)),{n1:r})))),T=i((e=>e(U).n2),((e,t,r)=>t(U,c(s({},e(U)),{n2:r})))),J=i((e=>e(U).distortion),((e,t,r)=>t(U,c(s({},e(U)),{distortion:r})))),q=i((e=>e(U).dotDiameter),((e,t,r)=>t(U,c(s({},e(U)),{dotDiameter:r})))),G=N(I.canvasBg,((e,t)=>j(t))),_=N(I.expSize,((e,t)=>j(t))),X=N(I.renderParams.color,((e,t)=>j(t))),Y=N(I.renderParams.seed,((e,t)=>j(t))),Q=N(I.renderParams.noise,((e,t)=>j(t))),Z=i((e=>({seed:e(Y),noise:e(Q),color:e(X),genParams:e(U)}))),ee=i(null,((e,t,r)=>{t(X,r.color),t(Y,r.seed),t(Q,r.noise),t(U,r.genParams)})),te=i(null,((e,t)=>t(Y,`${Math.random()}`.replace(/^0\./,"")))),re=i(null,((e,t)=>{let r={n1:+V(W(k.n1,M.n1),2),n2:+V(W(k.n2,M.n2),2),distortion:+V(W(k.distortion,M.distortion),2),dotDiameter:+V(W(k.dotDiameter,M.dotDiameter),2)};t(U,r)})),ne=i(null,((e,t,{axis:r,value:n})=>{t(Q,c(s({},e(Q)),{[r]:n}))})),ae=i(null,((e,t,r)=>{t(Q,c(s({},e(Q)),{dim:r}))})),le=i(null,((e,t)=>{t(Q,S.d3.def)})),oe=i(!1),se=N(function(){let e=localStorage.getItem(`${H}-sets`),t=localStorage.getItem(`${H}-cache`);try{let r=e&&JSON.parse(e)||[],n=t&&JSON.parse(t)||{};return r.map((e=>{let t=P(e.rpm);return t&&e.id?{id:e.id,preview:n[e.id],renderParams:t}:void 0})).filter(Boolean)}catch(r){}return[]}(),((e,t)=>R(t))),ce=i(null,((e,t,r)=>t(se,e(se).filter((e=>e.id!==r))))),ie=i(null,((e,t,r)=>{let n=new FileReader;n.onloadend=function(){if(n.result){let a=e(se),l=a.findIndex((e=>e.id===r.id));if(l<0)return void console.log("preset not found. likely removed",r);const o={id:B(),preview:n.result,renderParams:r.renderParams};a[l]=o,t(se,[...a])}},n.readAsDataURL(r.blob)})),me=i(null,(e=>{const t=e(K),r=e(se),n=e(A);t&&r.forEach((e=>{if(!e.preview){const r={type:"get-preview-id",smallWidth:56,smallHeight:56,largeWidth:n.w,largeHeight:n.h,id:e.id,renderParams:e.renderParams};null==t||t.postMessage(r)}}))})),de=i(null,((e,t,r)=>t(se,[...e(se),r]))),ue=i(null,((e,t,r)=>{let n=new FileReader;n.onloadend=function(){if(n.result){const e={id:B(),preview:n.result,renderParams:r.renderParams};t(de,e)}},n.readAsDataURL(r.blob)})),pe=i(""),ve=i((e=>e(pe)),((e,t,r)=>{let n=e(pe);n&&window.URL.revokeObjectURL(n),t(pe,r?window.URL.createObjectURL(r):"")})),fe=i((e=>!!e(pe)));function he(){return m.createElement("svg",{viewBox:"0 0 128 172.4",className:"w-full h-full",fill:"currentColor"},m.createElement("g",null,m.createElement("path",{d:"M126.9 38.1v.8l.1-.1.1-.1c.1 0 0-.1 0-.1v-.1-.1-.1l-.2-.2M66.4 84.5l-61.5-26 60.5-46.9 58.7 27.3-57.7 45.6m-1-74.9l-.3.1-.2.1-.2.1-.2.1L2 58.4l-.2.1-.1.2-.1.2V59.2l.1.1.1.1.1.1.2.1v-.4-.2l.1-.2.1-.1.1-.1H3.2L50 78.4l15.9 6.7.1-.1.1-.1.1-.1.1-.1 59.9-47-18-8.4-42-19.6H65.6l-.2-.1"}),m.createElement("path",{d:"M67.7 157.7l-.4.3.4.2v-.5m-.5-71.6l-.2.1.6 57.1-.1-20.5-.2-36.1v-.2-.2-.2c0 .1-.1.1-.1 0M2.7 58.5c-.1 0-.1 0 0 0h-.1-.1-.1l-.1.1-.1.1-.1.2V59.5l1 37.5.9 36.9v.2l.1.2.1.2.1.2.1.2.2.2.2.1.2.1 17 6.5 44.9 17.1H67.7l.1-.1.1-.1.1-.2V158.2l-.4-.2-.4.3-.1.1-.1.1c0 .1-.1 0-.1 0h-.1-.1-.1-.2l-.1-.1-.1-.1-.1-.1v-.1l-.2-15.8.1 14.2-60-22.9-1.9-72.4L65.3 87v-.4-.2-.2l.1-.2.1-.3.1-.1.1-.1.1-.1.1-.1L50 78.4 3.1 58.5H3h-.1-.2"}),m.createElement("path",{d:"M67.2 86.1l57.9-45.5-.6 69.5-56.8 45.4-.1-12.2-.6-57.1.2-.1m59.2-48.5h-.1-.1-.1l-59.9 47-.1.1-.1.1-.1.1-.1.1-.1.1-.1.1-.1.1-.1.1-.1.3-.1.2v.8l.4 35.6.2 19.7.2 15.8v.1l.1.1.1.1.1.1h.6l.1-.1.1-.1.4-.3.4-.3 57.7-46.2.2-.2.2-.2.1-.2.1-.2.1-.2.1-.2.1-.2v-.2l-.9.7v-1 1l.9-.7.3-35.5.3-35.4v-.8-.2l-.1-.1-.1-.1-.1-.1h-.1-.1l-.2.2"})),m.createElement("g",null,m.createElement("path",{d:"M65.6 24.2l-1.7.4-1.6.5-1.5.7-1.4.9a9 9 0 00-1.9 2.1c-.4.7-.6 1.4-.6 2.1 0 .7.2 1.3.7 1.9.4.6 1.1 1.1 1.9 1.5l1.4.5 1.5.2c.5 0 1.1.1 1.6 0l1.7-.2 1.7-.4 1.6-.5 1.5-.7 1.3-.9a9 9 0 001.9-2.1c.4-.7.6-1.4.6-2.1 0-.7-.2-1.3-.7-1.9a4.9 4.9 0 00-1.9-1.5l-1.4-.5-1.5-.3c-.5 0-1.1-.1-1.6 0-.5.2-1 .2-1.6.3M96.4 38.3l-1.6.4-1.6.5-1.5.7-1.3.9c-.8.6-1.4 1.3-1.9 2-.3.8-.5 1.5-.5 2.2 0 .7.2 1.3.6 1.9.4.6 1 1 1.9 1.4l1.3.4 1.5.2c.5 0 1 .1 1.6 0l1.6-.2 1.6-.4 1.6-.5 1.5-.7 1.3-.9c.8-.6 1.4-1.3 1.8-2 .4-.7.6-1.4.6-2.1 0-.7-.2-1.3-.6-1.9-.4-.6-1-1-1.8-1.4l-1.3-.5-1.5-.2c-.5 0-1-.1-1.6 0l-1.7.2M65.8 43.2l-1.6.4c-.5.2-1.1.3-1.6.6l-1.5.7-1.4.9a9 9 0 00-1.9 2.1c-.4.7-.6 1.4-.6 2.1 0 .7.2 1.3.7 1.9a4 4 0 001.9 1.4l1.4.4 1.5.2h1.6l1.6-.2 1.6-.4c.5-.2 1.1-.3 1.6-.6l1.5-.7 1.3-.9c.8-.7 1.5-1.3 1.9-2.1.4-.7.6-1.4.6-2.1 0-.7-.2-1.3-.6-1.9a4 4 0 00-1.9-1.4l-1.4-.5-1.5-.2c-.5 0-1.1-.1-1.6 0l-1.6.3M66.3 62l-1.6.4c-.5.2-1.1.3-1.6.6l-1.5.7-1.3.9c-.8.7-1.5 1.3-1.9 2.1-.4.7-.6 1.4-.6 2.1 0 .7.2 1.3.7 1.9.4.6 1.1 1 1.9 1.4l1.4.4 1.5.2h1.6l1.6-.2 1.6-.4c.5-.2 1.1-.3 1.6-.6l1.5-.7 1.3-.9c.8-.6 1.4-1.3 1.9-2 .4-.7.6-1.4.6-2.1 0-.7-.2-1.3-.6-1.9-.4-.6-1.1-1-1.9-1.4l-1.3-.4-1.5-.2h-1.6l-1.8.1M34.7 48.2l-1.7.4c-.6.2-1.1.3-1.6.6l-1.5.7-1.4.9c-.9.7-1.5 1.4-1.9 2.1-.4.7-.6 1.4-.6 2.1 0 .7.3 1.3.7 1.9.4.6 1.1 1.1 2 1.4l1.4.5 1.5.2h1.6l1.7-.2 1.7-.4c.6-.2 1.1-.3 1.6-.6l1.5-.7 1.4-.9a9 9 0 001.9-2.1c.4-.7.6-1.4.6-2.1 0-.7-.2-1.3-.7-1.9a3.8 3.8 0 00-2-1.4l-1.4-.5L38 48c-.5 0-1.1-.1-1.6 0l-1.7.2"}),m.createElement("path",{d:"M16.9 77.6c-.5.1-1 .3-1.4.6-.4.3-.8.6-1.1 1.1a6 6 0 00-.7 1.6c-.2.6-.2 1.3-.2 2 0 1 .2 2.1.6 3.1a12 12 0 003.5 5.3c.8.7 1.6 1.2 2.5 1.6l.8.3.7.1h.7l.7-.1c.5-.1 1-.3 1.4-.6.4-.3.8-.6 1.1-1.1.3-.4.5-1 .7-1.6.2-.6.2-1.3.2-2a11.2 11.2 0 00-1.9-6 9.6 9.6 0 00-4.5-4l-.8-.3-.7-.2h-.7l-.9.2M48.6 90.7l-1.4.5c-.4.3-.8.6-1.1 1.1-.3.4-.5 1-.7 1.5-.2.6-.2 1.2-.2 1.9a12 12 0 001.8 5.8 9 9 0 002 2.3 6 6 0 002.4 1.5l.7.2.7.1h.7l.6-.1c.5-.1 1-.3 1.4-.6.4-.3.8-.6 1.1-1.1.3-.4.5-.9.7-1.5.2-.6.2-1.2.2-1.9a12 12 0 00-3.8-8.2 7.8 7.8 0 00-2.4-1.6l-.7-.3-.7-.1h-.7c-.2.4-.4.5-.6.5M48.8 126.7c-.5.1-1 .3-1.4.6-.4.3-.8.6-1 1.1-.3.4-.5.9-.7 1.5-.2.6-.2 1.2-.2 1.9 0 1 .2 2 .5 3s.8 1.9 1.3 2.8c.6.9 1.2 1.6 1.9 2.3.7.6 1.5 1.1 2.4 1.5l.7.2.7.1h.7l.6-.1c.5-.1.9-.3 1.3-.6s.7-.6 1-1.1c.3-.4.5-.9.7-1.5.2-.6.2-1.2.2-1.9 0-1-.2-2-.5-2.9-.3-1-.8-1.9-1.3-2.8-.6-.9-1.2-1.6-1.9-2.3a7.5 7.5 0 00-3.1-1.7l-.7-.1h-1.2M17.5 114.6c-.5.1-1 .3-1.4.6-.4.3-.8.6-1.1 1.1-.3.4-.5 1-.7 1.5-.2.6-.2 1.2-.2 1.9 0 1 .2 2 .6 3 .3 1 .8 2 1.4 2.8.6.9 1.3 1.7 2 2.3.8.7 1.6 1.2 2.5 1.5l.7.2.7.1h.7l.6-.1c.5-.1 1-.3 1.4-.6.4-.3.8-.6 1.1-1.1.3-.4.5-.9.7-1.5.2-.6.2-1.2.2-1.9a10.5 10.5 0 00-1.9-5.8c-.6-.9-1.3-1.7-2-2.3a7.3 7.3 0 00-2.5-1.5l-.7-.2-.7-.1h-.7l-.7.1"}),m.createElement("path",{d:"M98.9 89.9l-.6.2-.6.3-.7.4a13.2 13.2 0 00-3 2.9 22 22 0 00-1.9 3c-.5 1.1-1 2.2-1.3 3.3a9 9 0 00-.3 4.9c.2.5.4.9.7 1.2l1 .7h1.3l.6-.2.6-.3.7-.4.7-.5c.8-.6 1.6-1.5 2.3-2.4a22 22 0 001.9-3l1.3-3.2a9 9 0 00.3-4.9l-.7-1.3-1-.7h-1.3"})))}function ge(){return m.createElement("div",{className:"relative h-8 w-16 active:animate-bounce"},m.createElement("div",{className:"absolute left-0 -top-1 w-10 h-10 transform rotate-45 scale-75 translate-x-6"},m.createElement(he,null)),m.createElement("div",{className:"absolute left-0 -top-1 w-10 h-10 transform rotate-12 scale-75"},m.createElement(he,null)))}function xe(e){var t=e,{size:r,setSize:o,onActivated:i=(()=>{})}=t,u=((e,t)=>{var r={};for(var o in e)a.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&n)for(var o of n(e))t.indexOf(o)<0&&l.call(e,o)&&(r[o]=e[o]);return r})(t,["size","setSize","onActivated"]);const p=d.exports.useRef(),v=d.exports.useRef(),[{active:f,clientPt:h},g]=function(){const[e,t]=d.exports.useState(!1),[r,n]=d.exports.useState({x:0,y:0});return d.exports.useEffect((()=>{if(e){let e=function(e){n({x:e.clientX,y:e.clientY})},r=function(){t(!1),document.removeEventListener("mouseup",r)};return document.addEventListener("mousemove",e,!1),document.addEventListener("mouseup",r,!1),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",r)}}}),[e]),[{active:e,clientPt:r},t]}();return d.exports.useEffect((()=>{f&&o({w:v.current.w+(h.x-p.current.x),h:v.current.h+(h.y-p.current.y)})}),[h]),d.exports.useEffect((()=>i(f)),[f]),m.createElement("div",c(s({},u),{style:{cursor:"nwse-resize"},onMouseDown:e=>{e.preventDefault(),p.current={x:e.clientX,y:e.clientY},v.current={w:r.w,h:r.h},g(!0)},onMouseUp:()=>g(!1)}))}function be(){return new Worker("assets/render-worker.a9648759.js",{type:"module"})}function Ee(){const e=d.exports.useRef(null),t=function(e){const[t,r]=u(K),[n,a]=u($);return d.exports.useEffect((()=>{if(!e.current)return;e.current.width=0,e.current.height=0;const l=n||e.current.transferControlToOffscreen();n||a(l);const o=new be;return o.queries=new Map,o.getImage=e=>new Promise((t=>{let r=B();o.queries.set(r,{resolve:t}),o.postMessage({type:"get-image",size:e,promiseId:r})})),o.addEventListener("message",(e=>{if("got-image"===e.data.type){let t=o.queries.get(e.data.resolveId);if(!t)return void console.error("missing promise ID");o.queries.delete(e.data.resolveId),t.resolve(e.data.blob)}})),r(o),o.postMessage({type:"init",canvas:l},[l]),()=>{console.log("use off",e.current,n),null==t||t.terminate(),r(null),a(null)}}),[e]),t}(e),r=d.exports.useRef(null),n=p(r),[a,l]=d.exports.useState(!1),[o,{width:s,height:c}]=v(),[i]=u(Z),[g]=u(G),[,x]=u(ue),[,b]=u(ie),E=f(me),[w,y]=u(A);return d.exports.useEffect((()=>{s&&c&&y({w:s,h:c})}),[s,c]),d.exports.useEffect((()=>{t&&(t.onmessage=e=>{switch(e.data.type){case"preview-blob":x(e.data);break;case"preview-blob-id":b(e.data)}},E())}),[t]),h((()=>{null==t||t.postMessage({type:"run",canvasWidth:s,canvasHeight:c,renderParams:i})}),100,[s,c,i]),m.createElement("div",{className:"w-full h-full flex items-center"},m.createElement("div",{className:"relative "+(a?"border border-dashed border-gray-600":""),ref:r},m.createElement("div",{className:"w-full h-full overflow-hidden",style:{resize:"both",width:`${w.w}px`,height:`${w.h}px`},ref:o},m.createElement("canvas",{ref:e,className:"w-full h-full",style:{backgroundColor:g}})),m.createElement(xe,{className:"absolute w-5 h-5 rounded-full border-2 -bottom-2 -right-2 z-10\r\n                        bg-green-500 border-green-700 active:border-green-600\r\n                        transform active:scale-0",size:w,setSize:y,onActivated:e=>l(e)}),(a||n)&&m.createElement("div",{className:"absolute text-[.6rem] text-gray-700"},s," x ",c)))}function we(e,t,r){const[n,a]=m.useState(""+e);function l(e){a(e);let t=+(e||"").trim().replace(/ /g,"").replace(/^\./,"0.").replace(/\.$/,".0");isNaN(t)||r(t)}m.useEffect((()=>{a(""+e)}),[e]);return[n,e=>{a(e.target.value),r(+e.target.value)},e=>{l(e.target.value)},e=>{let r=+n;if(!isNaN(r)){let n=function(e,t,r){const n=e*(t.altKey?100:1)*(t.shiftKey?10:1)*(t.ctrlKey?.1:1);return r.upKey?+n:r.downKey?-n:0}(t.step,a=e,function(e){return{upKey:"ArrowUp"===e.key,downKey:"ArrowDown"===e.key}}(a));n&&l(""+function(e,t,r){return Math.min(Math.max(e,t),r)}(+(r+n).toFixed(4),t.min,t.max))}var a}]}function ye({label:e,min:t,max:r,step:n=.01,labelWidth:a="4.5rem",value:l,onChange:o}){const[s,c,i,d]=we(l,{min:t,max:r,step:n},o);return m.createElement("div",{className:"px-2 w-full h-5 flex-centered space-x-2 text-xs text-purple-900"},m.createElement("div",{className:"flex-none",style:{width:a}},e),m.createElement("input",{className:"ui-slider",type:"range",min:t,max:r,step:n,value:l,tabIndex:-1,onChange:c}),m.createElement("input",{className:"w-8 bg-purple-100 text-[.6rem]",value:s,onChange:i,onKeyDown:d}))}function Ne({label:e,min:t,max:r,step:n=.01,labelWidth:a="4.5rem",value:l,onChange:o}){const[s,c,i,d]=we(l,{min:t,max:r,step:n},o);return m.createElement("div",{className:"px-2 w-full h-4 flex-centered space-x-2 text-[.6rem] text-purple-900"},m.createElement("div",{className:"flex-none",style:{width:a}},e),m.createElement("input",{className:"ui-slider",type:"range",min:t,max:r,step:n,value:l,tabIndex:-1,onChange:c,onKeyDown:d}),m.createElement("input",{className:"w-8 bg-purple-100 text-[.6rem]",value:s,onChange:i,onKeyDown:d}))}function ke({text:e,selected:t,onClick:r}){return m.createElement("div",{className:"w-5 h-5 px-1 py-0.5 border border-purple-400 rounded flex-centered cursor-pointer\n                "+(t?"bg-white ring-1 ring-offset-1 ring-offset-red-100 ring-purple-400":""),onClick:r},e)}function Ce(){const[e]=u(oe),[t]=u(Q),[,r]=u(ae),[,n]=u(ne),[,a]=u(le),[l,o]=m.useState(!1),s=g({opacity:e?1:0,width:e?144:0,transform:e?"scale(1)":"scale(0)",config:{duration:200}});function c(e){r(e)}function i(e,t){n({axis:e,value:t})}return m.createElement("div",{className:"relative text-purple-900 flex flex-col"},m.createElement(x.div,{className:"-mt-2 pt-2 overflow-hidden",style:{width:s.width,opacity:s.opacity,transform:s.transform}},e&&m.createElement("div",{className:"w-36 pl-1"},m.createElement("div",{className:"flex items-center text-xs select-none"},m.createElement("div",{className:"relative"},m.createElement("div",{className:"cursor-pointer hover:text-purple-500",title:"Reset noise to default settings",onClick:()=>o((e=>!e))},"Noise"),l&&m.createElement("div",{className:"\r\n                                absolute ml-1.5 px-2 py-1 left-full top-1/2 -translate-y-1/2 \r\n                                active-scale whitespace-nowrap\r\n                                text-white bg-red-600 border rounded border-red-900",onClick:function(){a(),o(!1)}},"Reset noise")),m.createElement("div",{className:"pl-2 flex items-center text-[.6rem] space-x-1"},m.createElement(ke,{text:"2D",selected:2===t.dim,onClick:()=>c(2)}),m.createElement(ke,{text:"3D",selected:3===t.dim,onClick:()=>c(3)}),m.createElement(ke,{text:"4D",selected:4===t.dim,onClick:()=>c(4)}))),m.createElement("div",{className:"pl-1 mt-1 text-right"},m.createElement(Ne,{labelWidth:"2rem",min:S.d3.min.x,max:S.d3.max.x,value:t.x,onChange:e=>i("x",e),label:"scale x"}),m.createElement(Ne,{labelWidth:"2rem",min:S.d3.min.y,max:S.d3.max.y,value:t.y,onChange:e=>i("y",e),label:"scale y"}),t.dim>2&&m.createElement(Ne,{labelWidth:"2rem",min:S.d3.min.z,max:S.d3.max.z,value:t.z,onChange:e=>i("z",e),label:"scale z"}),t.dim>3&&m.createElement(Ne,{labelWidth:"2rem",min:S.d3.min.w,max:S.d3.max.w,value:t.w,onChange:e=>i("w",e),label:"scale w"})))))}function Me(){const[e,t]=u(F),[r,n]=u(T),[a,l]=u(J),[o,s]=u(q);return m.createElement(m.Fragment,null,m.createElement(ye,{min:k.n1,max:C.n1,value:e,onChange:t,label:"Noise 1"}),m.createElement(ye,{min:k.n2,max:C.n2,value:r,onChange:n,label:"Noise 2"}),m.createElement(ye,{min:k.distortion,max:C.distortion,value:a,onChange:l,label:"Distortion"}),m.createElement(ye,{min:k.dotDiameter,max:C.dotDiameter,value:o,onChange:s,label:"Dot diameter"}))}function Se(){const[e]=u(oe);return m.createElement("div",{className:"flex"},m.createElement("div",{className:"flex-1"},m.createElement(Me,null)),e&&m.createElement("div",{className:"w-[1px] max-w-[1px] bg-purple-300"}),m.createElement("div",null,m.createElement(Ce,null)))}const ze=[[300,300],[500,500],[700,700],[900,900]];function Le({select:e,step:t}){return m.createElement("div",{className:"\r\n                flex-centered active:scale-95 cursor-pointer \r\n                text-gray-400 hover:text-purple-600\r\n                ring-purple-400 ring-opacity-50 hover:ring-2 active:ring-2 active:ring-opacity-100",title:`Set canvas ${ze[t][0]} x ${ze[t][1]}`,onClick:e},m.createElement("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},3===t&&m.createElement("path",{fill:"#d6d6d6",d:"M.5.5h23v23H.5z"}),m.createElement("path",{d:"M23 1v22H1V1h22m1-1H0v24h24V0z"}),2===t&&m.createElement("path",{fill:"#d6d6d6",d:"M2.6 2.6h18.7v18.7H2.6z"}),2===t&&m.createElement("path",{d:"M20.8 3.2v17.7H3.2V3.2h17.6m1.1-1.1H2.1v19.8h19.8V2.1z"}),1===t&&m.createElement("path",{fill:"#d6d6d6",d:"M5 5h14.1v14.1H5z"}),1===t&&m.createElement("path",{d:"M18.5 5.5v13.1h-13V5.5h13m1-1h-15v15.1h15.1V4.5h-.1z"}),0===t&&m.createElement("path",{fill:"#d6d6d6",d:"M7.2 7.2h9.7v9.7H7.2z"}),0===t&&m.createElement("path",{d:"M16.3 7.7v8.7H7.7V7.7h8.6m1-1H6.7v10.7h10.7V6.7h-.1z"})))}function Pe(){const[e,t]=u(A);return m.createElement(m.Fragment,null,ze.map((([e,r],n)=>m.createElement(Le,{key:n,select:()=>function(e,r){t({w:e,h:r})}(e,r),step:n}))))}const De=function(){const e=document.createElement("a");return document.body.appendChild(e),e.style.display="none",e.id="noise-gen-image",function(t,r){let n=window.URL.createObjectURL(t);e.href=n,e.download=r,e.click(),window.URL.revokeObjectURL(n)}}();function Ie(e){const t=+(+e).toFixed(0);return!isNaN(t)&&t>0?t:0}function je(e){return function(e,t){e=isNaN(e)?0:e;let r=0;for(;e>=1024;)r++,e/=1024;return`${e.toFixed(t)} ${["Bytes","KB","MB","GB","TB"][r]}`}(e.w*e.h,2)}function He({onSave:e}){const[t,r]=u(_),[n,a]=m.useState(""+t.w),[l,o]=m.useState(""+t.h),[s,c]=m.useState(!0),[i,d]=m.useState(!1),p=m.useRef(null),v=m.useRef(null);return b(p,(()=>e())),m.useEffect((()=>{var e;null==(e=v.current)||e.focus()}),[]),m.useEffect((()=>{let e=Ie(n),t=Ie(l),a=!!e&&!!t,o=a&&e*t>4e6;a=a&&!o,c(a),d(o),a&&r({w:e,h:t})}),[n,l]),m.createElement("div",{className:"px-2 pt-1 relative rounded border text-sm border-gray-500 bg-purple-300 flex flex-col shadow-lg text-purple-900",onKeyDown:t=>"Escape"===t.key&&e(),ref:p},m.createElement("div",{className:"absolute top-[2px] right-[2px] p-1.5 rounded activ:bg-red-100 hover:bg-red-400 hover:text-white",onClick:()=>e()},m.createElement("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))),m.createElement("div",{className:"mt-4"},"Image size in pixels"),m.createElement("div",{className:"mt-1 flex items-center space-x-1"},m.createElement("input",{ref:v,className:"px-2 py-1 w-16 rounded border border-gray-500",value:n,onChange:e=>a(e.target.value),onKeyDown:r=>s&&"Enter"===r.key&&e(t)}),m.createElement("div",{className:""},m.createElement("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))),m.createElement("input",{className:"px-2 py-1 w-16 rounded border border-gray-500",value:l,onChange:e=>o(e.target.value),onKeyDown:r=>s&&"Enter"===r.key&&e(t)})),m.createElement("button",{className:"self-end mt-2 mb-2 px-3 py-1 h-8 rounded border active-scale \n                    "+(s?"bg-purple-500 text-gray-200 border-gray-200":"text-red-600 border-none"),title:""+(i?(f={w:+n,h:+l},`Sizes over 2000 x 2000 are already a bit too much for Chrome.\nThe current image size ${f.w} x ${f.h} = ${je(f)} (uncompressed in pixels).`):s?`The current size is ${je({w:+n,h:+l})} (uncompressed in pixels).`:"The numbers are not valid."),onClick:()=>s&&e(t)},m.createElement("div",{className:"pb-0.5"},s?"Save":i?"Max is 2000 x 2000":"Invalid size")));var f}function Re(){const[e]=u(K),t=m.useRef(e);t.current=e;const[,r]=u(ve),[n,a]=m.useState(!1),l=g({opacity:n?1:0,config:{duration:100}});async function o(){if(t.current){let e=await t.current.getImage();r(e)}}return E("F2",(e=>{e.altKey?r(null):o()})),m.createElement("div",{className:"p-2 flex space-x-1"},m.createElement("div",{className:"px-1 flex-centered space-x-1 \r\n                border rounded border-gray-400 bg-gray-50 shadow-sm hover:bg-white"},m.createElement(Pe,null)),m.createElement("div",{className:"flex-centered \r\n                text-gray-500\r\n                border rounded border-gray-400 bg-gray-50 shadow-sm hover:bg-white\r\n                transform active-scale cursor-pointer",title:"Set canvas image as application background (F2)",onClick:o},m.createElement("svg",{className:"h-6 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.8,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))),m.createElement("div",{className:"flex-1 w-8 h-8 flex-centered \r\n                text-gray-500\r\n                border rounded border-gray-400 bg-gray-50 shadow-sm hover:bg-white\r\n                transform active-scale cursor-pointer",title:"Save preset",onClick:function(){null==e||e.postMessage({type:"get-preview",smallWidth:56,smallHeight:56})}},m.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.8,d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"}))),m.createElement("div",{className:"relative z-10"},m.createElement("div",{className:"flex-1 w-8 h-8 flex-centered \r\n                    text-gray-500\r\n                    border rounded border-gray-400 bg-gray-50 shadow-sm hover:bg-white\r\n                    active-scale cursor-pointer",title:"Save image",onClick:()=>a((e=>!e))},m.createElement("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.8,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"}))),n&&m.createElement(x.div,{style:l,className:"absolute mt-1 -top-1 right-0"},m.createElement(He,{onSave:async function(t){if(a(!1),t&&e){let r=await e.getImage(t);De(r,"noise-gen.png")}}}))))}function Oe({item:e,deleteItem:t,selectItem:r}){return m.createElement("div",{className:"preset px-1 py-2 cursor-pointer select-none transform active-scale",onClick:()=>r(e)},m.createElement("div",{className:"relative border-4 border-gray-50",style:{width:"64px",height:"64px"}},e.preview&&m.createElement("img",{className:"maybe-broken w-full h-full object-cover",src:e.preview,alt:"preset"}),e.preview&&m.createElement("div",{className:"absolute p-1 -top-3 -right-3\r\n                        border rounded-full text-gray-500 border-gray-500 bg-gray-50\r\n                        remove-preset",title:"Remove preset",onClick:r=>{r.stopPropagation(),t(e.id)}},m.createElement("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})))))}function Be(){const[e]=u(se),[,t]=u(ee),[,r]=u(ce);function n(e){r(e)}function a(e){t(e.renderParams)}return m.createElement("div",{className:"px-1 flex flex-wrap"},e.map((e=>m.createElement(Oe,{key:e.id,item:e,deleteItem:n,selectItem:a}))))}function We(){return m.createElement("div",{className:"py-2 bg-purple-100 border rounded border-gray-400 select-none shadow"},m.createElement(Se,null),m.createElement(Re,null),m.createElement(Be,null))}function Ve(){const[,e]=u(oe);return m.createElement("div",{className:"dark-frame-rounded cursor-pointer text-gray-100 active-scale",style:{background:"linear-gradient(hsla(0,0%,100%,.5), transparent) rgb(167, 139, 250) border-box"},title:"Show/Hide noise parameters",onClick:()=>e((e=>!e))},m.createElement("svg",{className:"",viewBox:"0 0 101 101",fill:"none",stroke:"currentColor",strokeWidth:4},m.createElement("path",{d:"M88.3 139c11.6-34 23.8-35.6 35 0 10.5 33.2 23.4 34 35 0",transform:"translate(-72.8 -88)"}),m.createElement("path",{d:"M15.4 22.4v55.7M12.1 50.5h78.8",strokeWidth:2})))}const $e=["black","white","transparent"];function Ke(){const[e,t]=u(G);return m.createElement("button",{className:"w-8 h-8 relative rounded border dark-frame no-active-ouline active-scale",style:{background:"linear-gradient(hsla(0,0%,100%,.5), transparent) rgb(167, 139, 250) border-box"},title:"Perview canvas background: white/black/transparent.\nThe saved image will have a transparent background.",onClick:function(){let r=($e.findIndex((t=>t===e))+1)%$e.length;t($e[r])}},m.createElement("div",{className:"px-0.5 w-full h-full flex items-center justify-evenly"},m.createElement("div",{className:("black"===e?"w-1/2 h-2/3":"w-1/3 h-1")+" bg-black"}),m.createElement("div",{className:("white"===e?"w-1/2 h-2/3":"w-1/3 h-1")+" bg-white"}),m.createElement("div",{className:("transparent"===e?"w-1/2 h-2/3":"w-1/3 h-1")+" border dark-frame"})))}function Ae(e){const{className:t,style:r={}}=e,[n,a]=u(X),[l,o]=d.exports.useState(!1),c=d.exports.useRef(null);b(c,(()=>o(!1)));const i=g({opacity:l?1:0,config:{duration:200}});return m.createElement("button",{className:"relative no-active-ouline",ref:c,title:"Change canvas color",onKeyDown:e=>{"Escape"===e.key&&o(!1)}},m.createElement("div",{className:`${t} dark-frame-rounded bg-purple-100 transform active-scale cursor-pointer flex-centered`,style:s({},r),onClick:()=>o((e=>!e))},m.createElement("div",{className:"w-5 h-5 rounded-[0.15rem] border border-t-gray-500 border-l-gray-500 border-b-purple-300 border-r-purple-300",style:{backgroundColor:n}})),m.createElement(x.div,{className:"absolute right-0 top-full z-20",style:{opacity:i.opacity}}," ",l&&m.createElement(w,{color:n,onChange:e=>a(e.hex)})))}function Ue(){const[e,t]=u(Y),[,r]=u(te),[,n]=u(re);return m.createElement("div",{className:"h-8 flex space-x-1"},m.createElement("input",{className:"flex-1 w-full px-2 py-1 text-xs text-purple-900 bg-purple-100 dark-frame-rounded",placeholder:"Type anything as a seed",value:e,onChange:e=>t(e.target.value)}),m.createElement("button",{className:"h-8 px-3 pb-0.5 text-sm\r\n                dark-frame-rounded text-gray-100 bg-purple-400 \r\n                uppercase transform active-scale\r\n                select-none no-active-ouline",style:{background:"linear-gradient(hsla(0,0%,100%,.5), transparent) rgb(167, 139, 250) border-box"},title:"Generate random seed",onClick:r},"Random Seed"),m.createElement("button",{className:"h-8 px-3 pb-0.5 text-sm\r\n                dark-frame-rounded text-gray-100 bg-purple-400 \r\n                uppercase transform active-scale\r\n                select-none no-active-ouline",style:{background:"linear-gradient(hsla(0,0%,100%,.5), transparent) rgb(167, 139, 250) border-box"},title:"Generate a random preset",onClick:n},"Preset"),m.createElement("div",{className:"w-8 h-8 flex-none"},m.createElement(Ve,null)),m.createElement(Ae,{className:"w-8 h-8",style:{background:"linear-gradient(hsla(0,0%,100%,.5), transparent) rgb(167, 139, 250) border-box"}}),m.createElement("div",{className:""},m.createElement(Ke,null)))}function Fe(){return m.createElement("svg",{className:"stroke-1",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24"},m.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}function Te({href:e}){return m.createElement("div",{className:""},m.createElement("a",{className:"",href:e,target:"_blank",title:"Open the source on GitHub"},m.createElement("div",{className:"w-4 h-4 p-[1px] border rounded text-purple-500 border-purple-400"},m.createElement(Fe,null))))}function Je(){const[e,t]=u(ve),[r]=u(fe);return m.createElement("div",{className:"App h-screen flex flex-col items-center space-y-4 bg-purple-200",style:r?{backgroundImage:`url(${e}), radial-gradient(circle, #d5ccf7 0%, #ab9dde 100%)`,backgroundBlendMode:"multiply, screen, color-dodge"}:{backgroundImage:"radial-gradient(circle, #d5ccf7 0%, #ab9dde 100%)"}},m.createElement("div",{className:"w-full py-2 flex items-center justify-between text-purple-900 bg-purple-300 select-none",style:{boxShadow:"#00000033 0 1px 2px"}},m.createElement("div",{className:"mx-4 flex-none flex-centered"},m.createElement(ge,null),r&&m.createElement("button",{className:"ml-2 px-2 pb-[1px] text-xs dark-frame-rounded bg-purple-100 uppercase",title:"Clear background image (Alt+F2)",onClick:()=>t(null)},"Clear bkg")),m.createElement("div",{className:"px-4 py-2 text-xl uppercase flex items-center"},m.createElement(Te,{href:"https://github.com/maxzz/noise-gen"}),m.createElement("div",{className:"pl-1 pb-0.5",style:{textShadow:"#a88cff70 3px 2px"}},"Noise generator: xp10-525N"))),m.createElement("div",{className:"relative max-w-md w-full flex-1 flex flex-col items-center"},m.createElement("div",{className:"w-full flex flex-col space-y-1"},m.createElement(Ue,null),m.createElement(We,null)),m.createElement("div",{className:"flex-1 mt-1"},m.createElement(Ee,null))))}y.render(m.createElement(m.StrictMode,null,m.createElement(Je,null)),document.getElementById("root"));
