var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,r,l)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,a=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&o(e,r,t[r]);if(l)for(var r of l(t))s.call(t,r)&&o(e,r,t[r]);return e};import{a as c,R as u,C as i,u as m,b as f,S as d,c as p,d as x,e as v,f as y}from"./vendor.f7e2d977.js";const h=c(null),g=c("13753932482421605"),E=c("#887ed6");function b(){return u.createElement("svg",{viewBox:"0 0 90 90",className:"w-full h-full"},u.createElement("path",{className:"st0",stroke:"currentColor",strokeWidth:"2",fill:"none",d:"M85 22.3v44.9L44.5 86M5 22.8L45.5 4 85 22.3M44.5 86L5 67.7V22.8M44.5 41.1L5 22.8M85 22.3L44.5 41.1M44.5 41.1V86"}),u.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"2",fill:"none",cx:"17.1",cy:"42",rx:"3.7",ry:"3.4"}),u.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"2",fill:"none",cx:"25",cy:"54.4",rx:"3.7",ry:"3.4"}),u.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"2",fill:"none",cx:"33.4",cy:"67.8",rx:"3.7",ry:"3.4"}),u.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"2",fill:"none",cx:"58.3",cy:"57.1",rx:"3.7",ry:"3.4"}),u.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"2",fill:"none",cx:"45",cy:"22.3",rx:"3.7",ry:"3.4"}),u.createElement("ellipse",{className:"st1",stroke:"currentColor",strokeWidth:"2",fill:"none",cx:"73.5",cy:"50.2",rx:"3.7",ry:"3.4"}))}function w(e){var o=e,{size:c,setSize:m,onActivated:f=(()=>{})}=o,d=((e,t)=>{var r={};for(var o in e)n.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&l)for(var o of l(e))t.indexOf(o)<0&&s.call(e,o)&&(r[o]=e[o]);return r})(o,["size","setSize","onActivated"]);const p=i.exports.useRef(),x=i.exports.useRef(),[{active:v,clientPt:y},h]=function(){const[e,t]=i.exports.useState(!1),[r,l]=i.exports.useState({x:0,y:0});return i.exports.useEffect((()=>{if(e){let e=function(e){l({x:e.clientX,y:e.clientY})},r=function(){t(!1),document.removeEventListener("mouseup",r)};return document.addEventListener("mousemove",e,!1),document.addEventListener("mouseup",r,!1),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",r)}}}),[e]),[{active:e,clientPt:r},t]}();return i.exports.useEffect((()=>{v&&m({w:x.current.w+(y.x-p.current.x),h:x.current.h+(y.y-p.current.y)})}),[y]),i.exports.useEffect((()=>f(v)),[v]),u.createElement("div",(g=a({},d),t(g,r({style:{cursor:"nwse-resize"},onMouseDown:e=>{e.preventDefault(),p.current={x:e.clientX,y:e.clientY},x.current={w:c.w,h:c.h},h(!0)},onMouseUp:()=>h(!1)}))));var g}function N(){return new Worker("assets/web-worker.6084e50e.js",{type:"module"})}function k(e){const{className:t,style:r={}}=e,[l,n]=m(E),[s,o]=i.exports.useState(!1),c=i.exports.useRef(null);return f(c,(()=>{o(!1)})),u.createElement("div",{className:"relative select-none",ref:c},u.createElement("div",{className:`${t} p-1 border rounded border-gray-400 bg-purple-100 transform active:scale-95`,style:a({},r),onClick:()=>o((e=>!e))},u.createElement("div",{className:"w-full h-full rounded",style:{backgroundColor:l}})),u.createElement("div",{className:"absolute right-0 top-full z-10 "+(s?"":"hidden")},u.createElement(d,{color:l,onChange:e=>{n(`rgba(${e.rgb.r},${e.rgb.g},${e.rgb.b},${e.rgb.a})`)}})))}function C({seed:e,color:t}){const r=u.useRef(null),l=function(e){const t=u.useRef(),[r,l]=m(h);return i.exports.useEffect((()=>{if(!e.current)return;e.current.width=0,e.current.height=0;const n=r||e.current.transferControlToOffscreen();r||l(n);const s=new N;return s.onmessage=e=>{console.log("from worker:",e.data)},s.onerror=e=>{console.log("from worker: error",e.data)},s.postMessage({type:"init",canvas:n},[n]),t.current=s,()=>{var n;console.log("use off",e.current,r),null==(n=t.current)||n.terminate(),t.current=void 0,l(null)}}),[e]),t}(r),[n,{width:s,height:o}]=p(),[a,c]=i.exports.useState(!1),f=i.exports.useRef(null),d=x(f),[y,g]=i.exports.useState({w:325,h:300});return i.exports.useEffect((()=>{s&&o&&g({w:s,h:o})}),[s,o]),v((()=>{var r;null==(r=l.current)||r.postMessage({type:"re-run",seed:e,color:t,width:s,height:o})}),100,[e,t,s,o]),u.createElement("div",{className:"relative "+(a?"border border-dashed border-gray-600":""),ref:f}," ",u.createElement("div",{className:"w-full h-full overflow-hidden",style:{resize:"both",width:`${y.w}px`,height:`${y.h}px`},ref:n},u.createElement("canvas",{ref:r,className:"w-full h-full"})),u.createElement(w,{className:"absolute w-5 h-5 rounded-full border-2 -bottom-2 -right-2 z-10 \n                    bg-green-500 border-green-700 active:border-green-600\n                    transform active:scale-0",size:y,setSize:g,onActivated:e=>c(e)}),(a||d)&&u.createElement("div",{className:"absolute text-[.6rem] text-gray-700"},s," x ",o))}function M(){const[e,t]=m(g),[r]=m(E);return u.createElement("div",{className:"App h-screen flex flex-col items-center space-y-4 bg-gray-100"},u.createElement("div",{className:"w-full py-2 flex items-center justify-between text-purple-900 bg-purple-300"},u.createElement("div",{className:"mx-4 flex-none w-10 h-10"},u.createElement(b,null)),u.createElement("div",{className:"px-4 py-2 text-xl uppercase"},"Noise generator: xp10-525N")),u.createElement("div",{className:"max-w-md w-full flex-1 flex flex-col items-center"},u.createElement("div",{className:"w-full flex flex-col space-y-1"},u.createElement("div",{className:"flex space-x-2"},u.createElement("input",{className:"flex-1 w-full px-2 py-2 text-sm text-gray-900 bg-purple-100 border rounded border-gray-400",placeholder:"Type anything as a seed",value:e,onChange:e=>t(e.target.value)}),u.createElement(k,{className:"w-12 h-10"})),u.createElement("button",{className:"px-2 py-1 self-center border rounded text-gray-300 bg-gray-600 uppercase transform active:scale-95",onClick:()=>{t(`${Math.random()}`.replace(/^0\./,""))}},"Random")),u.createElement("div",{className:"flex-1 flex items-center mt-1"},u.createElement(C,{seed:e,color:r}))))}y.render(u.createElement(u.StrictMode,null,u.createElement(M,null)),document.getElementById("root"));
